[
  [
    "service", 
    "add", 
    {
      "charm": "cs:precise/haproxy-7", 
      "id": "haproxy"
    }
  ], 
  [
    "service", 
    "add", 
    {
      "charm": "cs:precise/mediawiki-3", 
      "id": "mediawiki"
    }
  ], 
  [
    "service", 
    "add", 
    {
      "subordinate": true, 
      "charm": "cs:precise/puppet-2", 
      "id": "puppet"
    }
  ], 
  [
    "service", 
    "add", 
    {
      "charm": "cs:precise/mysql-6", 
      "id": "mysql"
    }
  ], 
  [
    "service", 
    "add", 
    {
      "charm": "cs:precise/wordpress-7", 
      "id": "wordpress"
    }
  ], 
  [
    "service", 
    "add", 
    {
      "charm": "cs:precise/memcached-1", 
      "id": "memcached"
    }
  ], 
  [
    "relation", 
    "add", 
    {
      "interface": "mysql", 
      "scope": "global", 
      "endpoints": [
        [
          "mysql", 
          {
            "role": "server", 
            "name": "db"
          }
        ], 
        [
          "mediawiki", 
          {
            "role": "client", 
            "name": "db"
          }
        ]
      ], 
      "id": "relation-0000000002"
    }
  ], 
  [
    "relation", 
    "add", 
    {
      "interface": "memcache", 
      "scope": "global", 
      "endpoints": [
        [
          "memcached", 
          {
            "role": "server", 
            "name": "cache"
          }
        ], 
        [
          "mediawiki", 
          {
            "role": "client", 
            "name": "cache"
          }
        ]
      ], 
      "id": "relation-0000000003"
    }
  ], 
  [
    "relation", 
    "add", 
    {
      "interface": "mysql", 
      "scope": "global", 
      "endpoints": [
        [
          "wordpress", 
          {
            "role": "client", 
            "name": "db"
          }
        ], 
        [
          "mysql", 
          {
            "role": "server", 
            "name": "db"
          }
        ]
      ], 
      "id": "relation-0000000001"
    }
  ], 
  [
    "relation", 
    "add", 
    {
      "interface": "reversenginx", 
      "scope": "global", 
      "endpoints": [
        [
          "wordpress", 
          {
            "role": "peer", 
            "name": "loadbalancer"
          }
        ]
      ], 
      "id": "relation-0000000004"
    }
  ], 
  [
    "relation", 
    "add", 
    {
      "interface": "juju-info", 
      "scope": "container", 
      "endpoints": [
        [
          "haproxy", 
          {
            "role": "server", 
            "name": "juju-info"
          }
        ], 
        [
          "puppet", 
          {
            "role": "client", 
            "name": "juju-info"
          }
        ]
      ], 
      "id": "relation-0000000006"
    }
  ]
]
