<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="assets/mocha.css">
  <script src="../app/assets/javascripts/yui/yui/yui-debug.js"></script>
  <script src="../app/modules-debug.js"></script>
  <script src="assets/chai.js"></script>
  <script src="assets/mocha.js"></script>
  <script src="utils.js"></script>
  <script>
    var assert = chai.assert,
        expect = chai.expect
        should = chai.should();
    mocha.setup({'ui': 'bdd', 'ignoreLeaks': false})
  </script>

  <script src="test_d3_components.js"></script>
  <script src="test_env.js"></script>
  <script src="test_model.js"></script>
  <script src="test_notifications.js"></script>
  <script src="test_app.js"></script>
  <script src="test_unit_view.js"></script>
  <script src="test_charm_collection_view.js"></script>
  <script src="test_charm_view.js"></script>
  <script src="test_environment_view.js"></script>
  <script src="test_service_config_view.js"></script>
  <script src="test_service_view.js"></script>
  <script src="test_utils.js"></script>
  <script src="test_charm_panel.js"></script>
  <script src="test_charm_configuration.js"></script>
  <script src="test_console.js"></script>
  <script src="test_endpoints.js"></script>
  <script src="test_application_notifications.js"></script>
  <script src="test_charm_store.js"></script>
  <script src="test_app_hotkeys.js"></script>
  <script src="test_notifier_widget.js"></script>

  <script>
  YUI().use('node', 'event', function(runnerY) {
    runnerY.on('domready', function() {

     var config = GlobalConfig;
     for (group in config.groups) {
          var group = config.groups[group];
         for (m in group.modules) {
            var resource = group.modules[m];
            if (!m || !resource.fullpath) {
              continue
            }
            resource.fullpath = resource.fullpath.replace(
              '/juju-ui/', '../juju-ui/', 1);
         }
     }
     
     YUI(GlobalConfig).use(['juju-gui',
                            'node-event-simulate',
                            'juju-tests-utils'], 
                            function(testsYUI) {
         // Set the global Y variable used by the tests.
         window.Y = testsYUI;
         // Load before test runner
         mocha.run();
       });
     });
  });
  </script>

</head>

<body>
  <div id="main" class="container">
  </div>
  <div id="mocha"></div>
</body>
</html>
